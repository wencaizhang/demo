<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <title>Demo 演示</title>
    <link rel="stylesheet" href="./lib/css/metroStyle/metroStyle.css" type="text/css">
    <style>
        body {
            background-color: white;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        div,
        p,
        table,
        th,
        td {
            list-style: none;
            margin: 0;
            padding: 0;
            color: #333;
            font-size: 12px;
            font-family: dotum, Verdana, Arial, Helvetica, AppleGothic, sans-serif;
        }

        #testIframe {
            margin-left: 10px;
        }

        * {
            box-sizing: border-box;
        }

        html,
        body {
            height: 100%;
        }

        .wraper {
            width: 100%;
            height: 100%;
            overflow: hidden;
            padding: 20px;
        }

        .container {
            height: 100%;
            padding-left: 300px;
            border: 3px solid saddlebrown;
        }

        .ztree {
            height: 100%;
            width: 300px;
            float: left;
            margin-left: -300px;
            background-color: lightcoral;
        }


        iframe {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>

    <script type="text/javascript" src="./lib/js/jquery-1.4.4.min.js"></script>
    <script type="text/javascript" src="./lib/js/jquery.ztree.core.js"></script>
    <script>
        var zTree;
        var demoIframe;

        var setting = {
            view: {
                dblClickExpand: false,
                showLine: true,
                selectedMulti: false
            },
            data: {
                simpleData: {
                    enable: true,
                    idKey: "id",
                    pIdKey: "pId",
                    rootpId: ""
                }
            },
            callback: {
                beforeClick: function (treeId, treeNode) {
                    var zTree = $.fn.zTree.getZTreeObj("tree");
                    if (treeNode.isParent) {
                        zTree.expandNode(treeNode);
                        return false;
                    } else {
                        demoIframe.attr("src", treeNode.link);
                        return true;
                    }
                }
            }
        };
        var zNodes = [
            {   
                id: 1, 
                pId: 0, 
                name: "[core] CSS 类",
                open: true 
            },
            {   
                id: 2, 
                pId: 0, 
                name: "[core] JS 类",
                open: true 
            },
            {   
                id: 3, 
                pId: 0, 
                name: "[core] 其他 类",
                open: true 
            },
            {
                pId: 3,
                name: '萌萌哒的按钮',
                link: 'pages/button.html',
            },
            {
                pId: 1,
                name: '旋转木马',
                link: './旋转木马/carrousel.html',
            },
            {
                pId: 1,
                name: '手风琴',
                link: './手风琴/accordion.html',
            },
            {
                pId: 2,
                name: 'fullPage.js',
                children: [
                    {
                        pId: 103,
                        name: '基本演示',
                        link: './fullPage/fullPage-01基本演示.html',
                    },
                    {
                        pId: 103,
                        name: '背景演示',
                        link: './fullPage/fullPage-02背景演示.html',
                    },
                    {
                        pId: 103,
                        name: '循环演示',
                        link: './fullPage/fullPage-03循环演示.html',
                    },
                    {
                        pId: 103,
                        name: '绑定菜单',
                        link: './fullPage/fullPage-04绑定菜单.html',
                    },
                    {
                        pId: 103,
                        name: '分页导航',
                        link: './fullPage/fullPage-05分页导航.html',
                    },
                ]
            },
            {
                pId: 1,
                name: 'Canvas',
                children: [
                    {
                        pId: 104,
                        name: 'FlappyBird',
                        link: 'Canvas/FlappyBird.html',
                    },
                    {
                        pId: 104,
                        name: '七巧板',
                        link: 'Canvas/七巧板.html',
                    },
                    {
                        pId: 104,
                        name: '网状粒子效果',
                        link: 'Canvas/网状粒子效果.html',
                    },
                ]
            },
            {
                pId: 2,
                name: 'JS实现时钟效果',
                link: 'pages/JS实现时钟效果.html',
            },
            {
                pId: 2,
                name: '全选反选',
                link: 'pages/select-all-or-none.html',
            },
            {
                pId: 1,
                name: '自定义单复选按钮样式',
                link: '单选复选按钮/index.html',
            },
            {
                pId: 2,
                name: '锚点',
                link: '锚点/index.html',
},
            {
                pId: 3,
                name: '楼层跳跃',
                link: 'pages/floor-jump.html',
            },
                        {
                pId: 4,
                name: '三级联动',
                link: 'pages/linkage.html',
            },
            {
                pId: 1,
                name: 'css 实现三角形',
                link: 'icon-angle/index.html',
            },
            {
                pId: 1,
                name: 'checkbox',
                link: 'checkbox/demo.html',
            },
            {
                pId: 2,
                name: '高亮文章目录当前章节',
                link: 'pages/active-current-title.html',
            },
            {
                pId: 2,
                name: '有意思的固定定位',
                link: 'pages/fixedPosition.html',
            },
            {
                pId: 1,
                name: 'debounce-and-throtte',
                link: 'debounce-and-throtte/index.html',
            },
            {
                pId: 1,
                name: '自定义滚动条',
                link: 'pages/scrollbar.html',
            },
            {
                pId: 1,
                name: '网页进度条',
                link: 'https://c.runoob.com/iframe/5066',
            },
            {
                pId: 1,
                name: 'CSS 效果',
                children: [
                    {
                        pId: 104,
                        name: '正方体动画',
                        link: 'CSS3/CSS3-正方体动画.html',
                    },
                    {
                        pId: 104,
                        name: '鼠标滑过放大效果',
                        link: 'CSS3/鼠标滑过放大效果.html',
                    },
        
                ]
            },
            {
                pId: 1,
                name: 'emoji',
                link: 'pages/emoji-input.html',
            },
            {
                pId: 2,
                name: 'jq2048',
                link: 'pages/jq2048.html',
            },
        ]

        $(document).ready(function () {
            var t = $("#tree");
            t = $.fn.zTree.init(t, setting, zNodes);
            demoIframe = $("#testIframe");
            demoIframe.bind("load", loadReady);
            var zTree = $.fn.zTree.getZTreeObj("tree");
            zTree.selectNode(zTree.getNodeByParam("id", 101));

        });

        function loadReady() {
            var bodyH = demoIframe.contents().find("body").get(0).scrollHeight,
                htmlH = demoIframe.contents().find("html").get(0).scrollHeight,
                maxH = Math.max(bodyH, htmlH), minH = Math.min(bodyH, htmlH),
                h = demoIframe.height() >= maxH ? minH : maxH;
            if (h < 530) h = 530;
            demoIframe.height(h);
        }
    </script>

    <div class="container">
        <div id="tree" class="ztree"></div>
        <div class="wraper">
            <iframe ID="testIframe" Name="testIframe" FRAMEBORDER=0 SCROLLING=AUTO SRC="https://c.runoob.com/front-end/61"></iframe>
        </div>
    </div>
</body>

</html>
